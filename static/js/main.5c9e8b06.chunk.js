(this["webpackJsonptodo-app-context"]=this["webpackJsonptodo-app-context"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(6),o=n.n(r),i=(n(13),n(1)),l=function(e){var t=Object(a.useState)(e),n=Object(i.a)(t,2),c=n[0],r=n[1];return[c,function(e){r(e.target.value)},function(){r("")}]},u=n(2),s=n(7),m=n(16),d=function(e,t){switch(t.type){case"ADD":return[].concat(Object(s.a)(e),[{id:Object(m.a)(),content:t.content,isDone:!1}]);case"DELETE":return e.filter((function(e){return e.id!==t.id}));case"TOGGLE":return e.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),{},{isDone:!e.isDone}):e}));case"EDIT":return e.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),{},{content:t.newTodoContent}):e}));case"TOGGLE_ALL":var n=e.every((function(e){return e.isDone}));return e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{isDone:!n})}));default:return e}},f=function(e,t,n){var c=Object(a.useReducer)(n,t,(function(){var n;try{n=JSON.parse(localStorage[e])||t}catch(a){n=t}return n})),r=Object(i.a)(c,2),o=r[0],l=r[1];return Object(a.useEffect)((function(){localStorage.setItem(e,JSON.stringify(o))}),[o,e]),[o,l]},E=Object(a.createContext)(),b=Object(a.createContext)(),O=function(e){var t=e.children,n=f("todos",[],d),a=Object(i.a)(n,2),r=a[0],o=a[1];return c.a.createElement(E.Provider,{value:r},c.a.createElement(b.Provider,{value:o},t))},p=function(){var e=l(""),t=Object(i.a)(e,3),n=t[0],r=t[1],o=t[2],u=Object(a.useContext)(E),s=Object(a.useContext)(b);return c.a.createElement("form",{className:"AddTodoForm",onSubmit:function(e){e.preventDefault(),s({type:"ADD",content:n}),o()}},c.a.createElement("label",{className:"add-todo",htmlFor:"add-todo"},u.length>0&&c.a.createElement("i",{id:"toggle-all",className:"fas fa-chevron-circle-down btn btn--toggle-all",onClick:function(){return s({type:"TOGGLE_ALL"})}}),c.a.createElement("input",{onChange:r,value:n,className:"add-todo__input",type:"text",placeholder:"Add a task...",id:"add-todo"})))},v=function(e){var t=e.isDone,n=e.id,r=e.hiddenClass,o=Object(a.useContext)(b);return c.a.createElement("i",{onClick:function(){o({type:"TOGGLE",id:n})},className:"far fa-".concat(t?"check-circle":"circle"," btn btn--toggle-one ").concat(r)})},j=Object(a.memo)((function(e){var t=e.id,n=Object(a.useContext)(b);return c.a.createElement("i",{onClick:function(){n({type:"DELETE",id:t})},className:"fas fa-times btn btn--remove"})})),g=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(a.useState)(e),n=Object(i.a)(t,2),c=n[0],r=n[1],o=function(){r(!c)};return[c,o]},D=function(e){var t=e.id,n=e.content,r=e.toggleEditState,o=l(n),u=Object(i.a)(o,3),s=u[0],m=u[1],d=u[2],f=Object(a.useContext)(b);return c.a.createElement("form",{className:"list-item__left",onSubmit:function(e){e.preventDefault(),s&&(f({type:"EDIT",id:t,newTodoContent:s}),d(),r())}},c.a.createElement(v,{hiddenClass:"hidden"}),c.a.createElement("input",{onChange:m,className:"list-item__input",type:"text",value:s,onBlur:function(e){s?(f({type:"EDIT",id:t,newTodoContent:s}),d(),r()):(d(),r())},autoFocus:!0}))},h=function(e){var t=e.content,n=e.isDone,a=e.id,r=g(!1),o=Object(i.a)(r,2),l=o[0],u=o[1];return c.a.createElement("li",{className:"list-item ".concat(l&&"box-shadow-inset")},l?c.a.createElement(D,{toggleEditState:u,id:a,content:t}):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"list-item__left"},c.a.createElement(v,{isDone:n,id:a}),c.a.createElement("div",{className:"list-item__content ".concat(n&&"done"),onDoubleClick:u},t)),c.a.createElement("div",{className:"list-item__right"},c.a.createElement("em",{onDoubleClick:u,className:"list-item__date"},(new Date).toDateString()),c.a.createElement(j,{id:a}))))},C=function(){var e=Object(a.useContext)(E);return c.a.createElement("ul",{className:"list"},e.map((function(e){return c.a.createElement(h,Object.assign({},e,{key:e.id}))})))},N=function(){var e=Object(a.useContext)(E);return c.a.createElement("p",{className:"tooltip"},e.length>0?"double click to edit":"")},_=function(){return c.a.createElement(O,null,c.a.createElement("div",{className:"container"},c.a.createElement(p,null),c.a.createElement(C,null)),c.a.createElement(N,null))};var x=function(){return c.a.createElement(a.Fragment,null,c.a.createElement("h1",{className:"heading-primary"},"todo list"),c.a.createElement(_,null))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(x,null)),document.getElementById("root"))},8:function(e,t,n){e.exports=n(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.5c9e8b06.chunk.js.map